<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bit치cora Cultural - Revista Digital</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>游닄</text></svg>"
    />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />

    <!-- ESTILOS DE EMERGENCIA TEMPORALES -->
    <style>
      /* ESTILOS DE EMERGENCIA - ASEGURAR VISIBILIDAD */
      body.debug * {
        outline: 1px solid rgba(255, 0, 0, 0.1) !important;
      }

      .admin-panel {
        background: white !important;
        min-height: 100vh !important;
        padding: 20px 0 !important;
      }

      .admin-section {
        background: #ffffff !important;
        padding: 30px !important;
        border-radius: 10px !important;
        margin: 20px 0 !important;
        border: 2px solid #ff6f61 !important;
        display: block !important;
        opacity: 1 !important;
        visibility: visible !important;
      }

      .items-list {
        background: white !important;
        padding: 20px !important;
        border-radius: 8px !important;
        border: 1px solid #dee2e6 !important;
        min-height: 300px !important;
        margin-top: 20px !important;
      }

      /* ASEGURAR QUE LAS SECCIONES SE VEAN */
      #categorias.admin-section,
      #notas.admin-section,
      #revistas.admin-section,
      #metricas.admin-section {
        display: block !important;
        position: relative !important;
        z-index: 1 !important;
      }

      /* Forzar visibilidad del contenido de tabs */
      .tab-content.active {
        display: block !important;
        animation: fadeIn 0.5s ease !important;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Asegurar que los botones de tab funcionen */
      .admin-nav {
        background: #f8f9fa !important;
        padding: 15px !important;
        border-radius: 8px !important;
        margin: 20px 0 !important;
        display: flex !important;
        gap: 10px !important;
        flex-wrap: wrap !important;
        border: 1px solid #ddd !important;
      }

      .tab-btn {
        background: #e9ecef !important;
        color: #495057 !important;
        border: 1px solid #ddd !important;
        padding: 12px 24px !important;
        border-radius: 6px !important;
        cursor: pointer !important;
        font-weight: 600 !important;
        font-size: 15px !important;
        transition: all 0.3s !important;
      }

      .tab-btn:hover {
        background: #dee2e6 !important;
      }

      .tab-btn.active {
        background: linear-gradient(
          135deg,
          #ff6f61 0%,
          #4b8b60 100%
        ) !important;
        color: white !important;
        border-color: #ff6f61 !important;
        box-shadow: 0 3px 10px rgba(255, 111, 97, 0.3) !important;
      }

      /* Estilos para elementos dentro de las listas */
      #categories-list,
      #notes-list,
      #issues-list {
        display: block !important;
      }

      /* Forzar que .item-card sea visible */
      .item-card {
        background: linear-gradient(to right, #ffffff, #f8f9fa) !important;
        border: 2px solid #e9ecef !important;
        border-left: 5px solid #ff6f61 !important;
        border-radius: 8px !important;
        padding: 20px !important;
        margin-bottom: 15px !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08) !important;
        transition: all 0.3s ease !important;
      }

      .item-card:hover {
        transform: translateY(-3px) !important;
        box-shadow: 0 5px 15px rgba(255, 111, 97, 0.15) !important;
        border-color: #ff6f61 !important;
      }

      .item-details-container {
        display: flex !important;
        align-items: center !important;
        gap: 20px !important;
        flex: 1 !important;
      }

      .cat-icon-large {
        font-size: 28px !important;
        color: #ff6f61 !important;
        background: rgba(255, 111, 97, 0.1) !important;
        width: 60px !important;
        height: 60px !important;
        border-radius: 50% !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
      }

      .item-content h4 {
        margin: 0 0 8px 0 !important;
        color: #2c3e50 !important;
        font-size: 18px !important;
        font-weight: 600 !important;
      }

      .item-content p {
        margin: 0 !important;
        color: #666 !important;
        font-size: 14px !important;
        line-height: 1.5 !important;
      }

      /* Botones de acci칩n */
      .item-actions-group {
        display: flex !important;
        gap: 12px !important;
      }

      .action-btn {
        padding: 10px 18px !important;
        border-radius: 6px !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 14px !important;
        font-weight: 600 !important;
        display: inline-flex !important;
        align-items: center !important;
        gap: 8px !important;
        transition: all 0.3s !important;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important;
      }

      .action-btn:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15) !important;
      }

      .btn-edit {
        background: linear-gradient(
          135deg,
          #ffc107 0%,
          #ff9800 100%
        ) !important;
        color: #333 !important;
      }

      .btn-edit:hover {
        background: linear-gradient(
          135deg,
          #ffb300 0%,
          #f57c00 100%
        ) !important;
      }

      .btn-delete {
        background: linear-gradient(
          135deg,
          #e74c3c 0%,
          #c0392b 100%
        ) !important;
        color: white !important;
      }

      .btn-delete:hover {
        background: linear-gradient(
          135deg,
          #c0392b 0%,
          #a93226 100%
        ) !important;
      }

      /* Formularios visibles */
      .form-group {
        margin-bottom: 20px !important;
      }

      .form-group label {
        display: block !important;
        margin-bottom: 8px !important;
        font-weight: 600 !important;
        color: #2c3e50 !important;
        font-size: 15px !important;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100% !important;
        padding: 12px 15px !important;
        border: 2px solid #ddd !important;
        border-radius: 6px !important;
        font-size: 15px !important;
        background: white !important;
        transition: border-color 0.3s !important;
      }

      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        border-color: #ff6f61 !important;
        outline: none !important;
        box-shadow: 0 0 0 3px rgba(255, 111, 97, 0.1) !important;
      }

      /* T칤tulos */
      .admin-section h3 {
        color: #2c3e50 !important;
        font-size: 1.8rem !important;
        margin-bottom: 25px !important;
        padding-bottom: 15px !important;
        border-bottom: 3px solid #ff6f61 !important;
        font-weight: 700 !important;
      }

      /* Im치genes en notas */
      .item-image {
        width: 100px !important;
        height: 100px !important;
        border-radius: 8px !important;
        overflow: hidden !important;
        flex-shrink: 0 !important;
        border: 2px solid #e9ecef !important;
      }

      .item-image img {
        width: 100% !important;
        height: 100% !important;
        object-fit: cover !important;
      }

      /* Eliminar cualquier display: none que est칠 ocultando elementos */
      #admin-panel .admin-section,
      #admin-panel .items-list,
      #admin-panel .item-card {
        display: block !important;
      }

      /* Debug overlay */
      #debug-overlay {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(44, 62, 80, 0.9);
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        z-index: 99999;
        font-size: 13px;
        font-family: monospace;
        border: 2px solid #ff6f61;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      #debug-overlay div {
        margin: 4px 0;
      }

      #debug-overlay span {
        color: #ff6f61;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div id="login-container" class="login-container">
      <div class="login-form">
        <div class="login-logo">
          <div class="logo-image">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 200 60"
              width="200"
              height="60"
            >
              <defs>
                <linearGradient
                  id="logoGradient2"
                  x1="0%"
                  y1="0%"
                  x2="100%"
                  y2="100%"
                >
                  <stop
                    offset="0%"
                    style="stop-color: #ff6f61; stop-opacity: 1"
                  />
                  <stop
                    offset="100%"
                    style="stop-color: #4b8b60; stop-opacity: 1"
                  />
                </linearGradient>
              </defs>
              <rect
                x="0"
                y="0"
                width="200"
                height="60"
                rx="8"
                fill="url(#logoGradient2)"
              />
              <text
                x="100"
                y="35"
                text-anchor="middle"
                fill="white"
                font-family="Montserrat, sans-serif"
                font-style="italic"
                font-weight="bold"
                font-size="24"
              >
                BC
              </text>
              <text
                x="100"
                y="50"
                text-anchor="middle"
                fill="white"
                font-family="Montserrat, sans-serif"
                font-size="10"
                font-weight="bold"
              >
                CULTURAL
              </text>
            </svg>
          </div>
          <h2>Bit치cora Cultural</h2>
          <p>Panel de Administraci칩n</p>
        </div>
        <div class="form-group">
          <label for="username">Usuario</label>
          <input type="text" id="username" placeholder="Ingrese su usuario" />
        </div>
        <div class="form-group">
          <label for="password">Contrase침a</label>
          <input
            type="password"
            id="password"
            placeholder="Ingrese su contrase침a"
          />
        </div>
        <button class="btn" id="login-btn">Iniciar Sesi칩n</button>
        <div class="login-error" id="login-error">
          Usuario o contrase침a incorrectos
        </div>
      </div>
    </div>

    <div id="public-view">
      <header>
        <div class="container">
          <div class="header-content">
            <div class="logo">
              <div class="logo-image">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 200 60"
                  width="200"
                  height="60"
                >
                  <defs>
                    <linearGradient
                      id="logoGradient"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #ff6f61; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #4b8b60; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                  <rect
                    x="0"
                    y="0"
                    width="200"
                    height="60"
                    rx="8"
                    fill="url(#logoGradient)"
                  />
                  <text
                    x="100"
                    y="35"
                    text-anchor="middle"
                    fill="white"
                    font-family="Montserrat, sans-serif"
                    font-style="italic"
                    font-weight="bold"
                    font-size="24"
                  >
                    BC
                  </text>
                  <text
                    x="100"
                    y="50"
                    text-anchor="middle"
                    fill="white"
                    font-family="Montserrat, sans-serif"
                    font-size="10"
                    font-weight="bold"
                  >
                    CULTURAL
                  </text>
                </svg>
              </div>
              <div class="logo-text">
                <h1>Bit치cora Cultural</h1>
                <p>Revista Cultural Digital</p>
              </div>
            </div>
            <nav>
              <ul>
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#revista">Revista Actual</a></li>
                <li><a href="#anteriores">Revistas Anteriores</a></li>
                <li><a href="#categorias">Categor칤as</a></li>
                <li><a href="#notas">Notas Period칤sticas</a></li>
                <li>
                  <a href="#" id="admin-toggle" class="admin-link">Admin</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>

      <section class="hero" id="inicio">
        <div class="container">
          <h2>Bit치cora Cultural</h2>
          <p>Publicaci칩n mensual dedicada a la cultura en formato digital</p>
          <a href="#revista" class="btn">Ver 칔ltima Edici칩n</a>
        </div>
      </section>

      <section class="current-issue" id="revista">
        <div class="container">
          <h2 class="section-title">Revista Actual</h2>
          <div class="issue-container">
            <div class="issue-cover">
              <img
                id="current-cover"
                src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxAPwCdABmQn//Z"
                alt="Portada Revista Actual"
              />
            </div>
            <div class="issue-content">
              <h3 id="current-title"></h3>
              <p class="issue-meta" id="current-meta"></p>
              <p id="current-description"></p>
              <div class="issue-actions">
                <a href="#" id="current-pdf" class="btn" target="_blank">
                  <i class="fas fa-download"></i> Descargar PDF
                </a>
                <a href="#" id="btn-ver-revista" class="btn btn-outline">
                  <i class="fas fa-eye"></i> Ver Revista (Flipbook)
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="past-issues" id="anteriores">
        <div class="container">
          <h2 class="section-title">Revistas Anteriores</h2>
          <div class="carousel-container">
            <div class="carousel" id="issues-carousel"></div>
          </div>
          <div class="carousel-nav">
            <button class="carousel-btn" id="carousel-prev">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="carousel-btn" id="carousel-next">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </section>

      <section class="categories" id="categorias">
        <div class="container">
          <h2 class="section-title">Categor칤as</h2>
          <div class="categories-grid" id="categories-container"></div>
        </div>
      </section>

      <section class="featured-notes" id="notas">
        <div class="container">
          <h2 class="section-title">Notas Period칤sticas</h2>
          <div class="notes-grid" id="notes-container"></div>
        </div>
      </section>

      <section class="category-notes" id="category-notes">
        <div class="container">
          <div class="category-header">
            <a href="#" class="back-button" id="back-to-categories">
              <i class="fas fa-arrow-left"></i> Volver a Categor칤as
            </a>
            <h2 class="section-title" id="category-title">
              Notas de la Categor칤a
            </h2>
          </div>
          <div class="notes-grid" id="category-notes-container"></div>
        </div>
      </section>

      <footer>
        <div class="container">
          <div class="footer-content">
            <div class="footer-section">
              <h3>Bit치cora Cultural</h3>
              <p>
                Publicaci칩n mensual dedicada a la cultura en formato digital. Un
                espacio para explorar, descubrir y conectar con el patrimonio
                cultural de nuestra ciudad.
              </p>
              <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
              </div>
            </div>

            <div class="footer-section">
              <h3>Enlaces R치pidos</h3>
              <a href="#inicio">Inicio</a>
              <a href="#revista">Revista Actual</a>
              <a href="#anteriores">Revistas Anteriores</a>
              <a href="#categorias">Categor칤as</a>
              <a href="#notas">Notas Period칤sticas</a>
            </div>

            <div class="footer-section">
              <h3>Contacto</h3>
              <p><i class="fas fa-envelope"></i> info@bitacoracultural.com</p>
              <p><i class="fas fa-phone"></i> +54 223 123-4567</p>
              <p>
                <i class="fas fa-map-marker-alt"></i> Mar del Plata, Argentina
              </p>
            </div>
          </div>

          <div class="copyright">
            <p>&copy; 2026 Bit치cora Cultural. Todos los derechos reservados.</p>
          </div>
        </div>
      </footer>
    </div>

    <!-- ============================================================
         PANEL DE ADMINISTRACI칍N 
         ============================================================ -->
    <div id="admin-panel" class="admin-panel" style="display: none">
      <div class="admin-header">
        <div class="container">
          <div class="header-content">
            <div class="logo">
              <div class="logo-image">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 200 60"
                  width="200"
                  height="60"
                >
                  <defs>
                    <linearGradient
                      id="logoGradient3"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #ff6f61; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #4b8b60; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                  <rect
                    x="0"
                    y="0"
                    width="200"
                    height="60"
                    rx="8"
                    fill="url(#logoGradient3)"
                  />
                  <text
                    x="100"
                    y="35"
                    text-anchor="middle"
                    fill="white"
                    font-family="Montserrat, sans-serif"
                    font-style="italic"
                    font-weight="bold"
                    font-size="24"
                  >
                    BC
                  </text>
                  <text
                    x="100"
                    y="50"
                    text-anchor="middle"
                    fill="white"
                    font-family="Montserrat, sans-serif"
                    font-size="10"
                    font-weight="bold"
                  >
                    ADMIN
                  </text>
                </svg>
              </div>
              <div class="logo-text">
                <h1>Panel de Administraci칩n</h1>
                <p>Bit치cora Cultural</p>
              </div>
            </div>
            <nav>
              <ul>
                <li><a href="#" id="public-toggle">Volver al Sitio</a></li>
                <li><a href="#" id="logout-btn">Cerrar Sesi칩n</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>

      <div class="container">
        <!-- NAVEGACI칍N DE TABS -->
        <div class="admin-nav">
          <button class="btn btn-small tab-btn active" data-tab="revistas">
            <i class="fas fa-newspaper"></i> Gestionar Revistas
          </button>
          <button class="btn btn-small tab-btn" data-tab="categorias">
            <i class="fas fa-tags"></i> Gestionar Categor칤as
          </button>
          <button class="btn btn-small tab-btn" data-tab="notas">
            <i class="fas fa-file-alt"></i> Gestionar Notas
          </button>
          <button class="btn btn-small tab-btn" data-tab="metricas">
            <i class="fas fa-chart-bar"></i> M칠tricas
          </button>
        </div>

        <!-- TAB: GESTIONAR REVISTAS -->
        <div class="admin-section tab-content active" id="revistas">
          <h3><i class="fas fa-newspaper"></i> Gestionar Revistas</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="issue-number">N칰mero de Revista</label>
              <input type="number" id="issue-number" min="1" />
            </div>
            <div class="form-group">
              <label for="issue-month">Mes</label>
              <select id="issue-month">
                <option value="enero">Enero</option>
                <option value="febrero">Febrero</option>
                <option value="marzo">Marzo</option>
                <option value="abril">Abril</option>
                <option value="mayo">Mayo</option>
                <option value="junio">Junio</option>
                <option value="julio">Julio</option>
                <option value="agosto">Agosto</option>
                <option value="septiembre">Septiembre</option>
                <option value="octubre">Octubre</option>
                <option value="noviembre">Noviembre</option>
                <option value="diciembre">Diciembre</option>
              </select>
            </div>
            <div class="form-group">
              <label for="issue-year">A침o</label>
              <input
                type="number"
                id="issue-year"
                min="2020"
                max="2030"
                value="2026"
              />
            </div>
          </div>
          <div class="form-group">
            <label for="issue-title">T칤tulo</label>
            <input
              type="text"
              id="issue-title"
              placeholder="T칤tulo de la revista"
            />
          </div>
          <div class="form-group">
            <label for="issue-description">Descripci칩n</label>
            <textarea
              id="issue-description"
              placeholder="Descripci칩n de la revista"
            ></textarea>
          </div>
          <div class="form-group">
            <label for="issue-cover">Portada</label>
            <input type="file" id="issue-cover" accept="image/*" />
            <div class="file-preview" id="issue-cover-preview"></div>
          </div>
          <div class="form-group">
            <label for="issue-pdf">Archivo PDF</label>
            <input type="file" id="issue-pdf" accept=".pdf" />
          </div>
          <button class="btn" id="add-issue-btn">
            <i class="fas fa-plus"></i> Agregar Revista
          </button>
          <div class="items-list" id="issues-list">
            <p style="text-align: center; color: #666; padding: 40px">
              No hay revistas agregadas a칰n
            </p>
          </div>
        </div>

        <!-- TAB: GESTIONAR CATEGOR칈AS -->
        <div class="admin-section tab-content" id="categorias">
          <h3><i class="fas fa-tags"></i> Gestionar Categor칤as</h3>
          <div class="form-group">
            <label for="category-name">Nombre de Categor칤a</label>
            <input
              type="text"
              id="category-name"
              placeholder="Nombre de la categor칤a"
            />
          </div>
          <div class="form-group">
            <label for="category-description">Descripci칩n</label>
            <textarea
              id="category-description"
              placeholder="Descripci칩n de la categor칤a"
            ></textarea>
          </div>
          <div class="form-group">
            <label for="category-icon">Icono (Font Awesome)</label>
            <input
              type="text"
              id="category-icon"
              placeholder="Ej: fas fa-music"
            />
            <small style="color: var(--gray); display: block; margin-top: 5px">
              Copia la clase del icono desde
              <a href="https://fontawesome.com/icons" target="_blank"
                >FontAwesome</a
              >
              (ej: fas fa-palette)
            </small>
          </div>
          <button class="btn" id="add-category-btn">
            <i class="fas fa-plus"></i> Agregar Categor칤a
          </button>

          <hr style="margin: 2rem 0; border: 0; border-top: 1px solid #ddd" />

          <h4><i class="fas fa-list"></i> Categor칤as Existentes</h4>
          <div class="items-list" id="categories-list">
            <!-- Las categor칤as se cargar치n aqu칤 din치micamente -->
            <div class="item-card">
              <div class="item-details-container">
                <div class="cat-icon-large">
                  <i class="fas fa-palette"></i>
                </div>
                <div class="item-content">
                  <h4>Artes Visuales</h4>
                  <p>
                    Pintura, escultura, fotograf칤a y otras expresiones visuales
                  </p>
                </div>
              </div>
              <div class="item-actions-group">
                <button class="action-btn btn-edit" onclick="editCategory(1)">
                  <i class="fas fa-edit"></i> Editar
                </button>
                <button
                  class="action-btn btn-delete"
                  onclick="deleteCategory(1)"
                >
                  <i class="fas fa-trash"></i> Eliminar
                </button>
              </div>
            </div>

            <div class="item-card">
              <div class="item-details-container">
                <div class="cat-icon-large">
                  <i class="fas fa-music"></i>
                </div>
                <div class="item-content">
                  <h4>M칰sica</h4>
                  <p>Conciertos, festivales y artistas locales</p>
                </div>
              </div>
              <div class="item-actions-group">
                <button class="action-btn btn-edit" onclick="editCategory(2)">
                  <i class="fas fa-edit"></i> Editar
                </button>
                <button
                  class="action-btn btn-delete"
                  onclick="deleteCategory(2)"
                >
                  <i class="fas fa-trash"></i> Eliminar
                </button>
              </div>
            </div>

            <div class="item-card">
              <div class="item-details-container">
                <div class="cat-icon-large">
                  <i class="fas fa-theater-masks"></i>
                </div>
                <div class="item-content">
                  <h4>Teatro</h4>
                  <p>Obras, actores y directores de la escena teatral</p>
                </div>
              </div>
              <div class="item-actions-group">
                <button class="action-btn btn-edit" onclick="editCategory(3)">
                  <i class="fas fa-edit"></i> Editar
                </button>
                <button
                  class="action-btn btn-delete"
                  onclick="deleteCategory(3)"
                >
                  <i class="fas fa-trash"></i> Eliminar
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- TAB: GESTIONAR NOTAS -->
        <div class="admin-section tab-content" id="notas">
          <h3><i class="fas fa-file-alt"></i> Gestionar Notas</h3>
          <div class="form-group">
            <label for="note-title">T칤tulo</label>
            <input
              type="text"
              id="note-title"
              placeholder="T칤tulo de la nota"
            />
          </div>
          <div class="form-group">
            <label for="note-category">Categor칤a</label>
            <select id="note-category">
              <option value="">Seleccione una categor칤a</option>
              <option value="1">Artes Visuales</option>
              <option value="2">M칰sica</option>
              <option value="3">Teatro</option>
              <option value="4">Literatura</option>
              <option value="5">Cine</option>
              <option value="6">Patrimonio</option>
            </select>
          </div>
          <div class="form-group">
            <label for="note-author">Autor</label>
            <input
              type="text"
              id="note-author"
              placeholder="Autor de la nota"
            />
          </div>
          <div class="form-group">
            <label for="note-date">Fecha</label>
            <input type="date" id="note-date" />
          </div>
          <div class="form-group">
            <label for="note-image">Imagen Principal</label>
            <input type="file" id="note-image" accept="image/*" />
            <div class="file-preview" id="note-image-preview"></div>
          </div>
          <div class="form-group">
            <label for="note-content">Contenido Completo</label>
            <textarea
              id="note-content"
              placeholder="Escribe aqu칤 el cuerpo de la nota..."
              style="min-height: 200px"
            ></textarea>
          </div>
          <button class="btn" id="add-note-btn">
            <i class="fas fa-plus"></i> Agregar Nota
          </button>

          <hr style="margin: 2rem 0; border: 0; border-top: 1px solid #ddd" />

          <h4><i class="fas fa-list"></i> Notas Publicadas</h4>
          <div class="items-list" id="notes-list">
            <!-- Las notas se cargar치n aqu칤 din치micamente -->
            <div class="item-card">
              <div class="item-details-container">
                <div class="item-image">
                  <img
                    src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?auto=format&fit=crop&w=800&q=80"
                    alt="Nota"
                  />
                </div>
                <div class="item-content">
                  <h4>El renacimiento del arte callejero en Mar del Plata</h4>
                  <p>
                    <strong>Categor칤a:</strong> Artes Visuales |
                    <strong>Autor:</strong> Ana L칩pez |
                    <strong>Fecha:</strong> 15 de marzo de 2026
                  </p>
                  <p>
                    Exploramos c칩mo los artistas urbanos est치n transformando los
                    espacios p칰blicos...
                  </p>
                </div>
              </div>
              <div class="item-actions-group">
                <button class="action-btn btn-edit" onclick="editNote(1)">
                  <i class="fas fa-edit"></i> Editar
                </button>
                <button class="action-btn btn-delete" onclick="deleteNote(1)">
                  <i class="fas fa-trash"></i> Eliminar
                </button>
              </div>
            </div>

            <div class="item-card">
              <div class="item-details-container">
                <div class="item-image">
                  <img
                    src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=800&q=80"
                    alt="Nota"
                  />
                </div>
                <div class="item-content">
                  <h4>Festival de Jazz: Una tradici칩n que crece</h4>
                  <p>
                    <strong>Categor칤a:</strong> M칰sica |
                    <strong>Autor:</strong> Carlos M칠ndez |
                    <strong>Fecha:</strong> 10 de marzo de 2026
                  </p>
                  <p>
                    El Festival Internacional de Jazz de Mar del Plata celebra
                    su d칠cima edici칩n...
                  </p>
                </div>
              </div>
              <div class="item-actions-group">
                <button class="action-btn btn-edit" onclick="editNote(2)">
                  <i class="fas fa-edit"></i> Editar
                </button>
                <button class="action-btn btn-delete" onclick="deleteNote(2)">
                  <i class="fas fa-trash"></i> Eliminar
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- TAB: M칄TRICAS -->
        <div class="admin-section tab-content" id="metricas">
          <h3><i class="fas fa-chart-bar"></i> M칠tricas del Sitio</h3>
          <div class="form-row">
            <div class="form-group">
              <h4><i class="fas fa-eye"></i> Visitas Totales</h4>
              <p
                id="total-visits"
                style="font-size: 2rem; color: #ff6f61; font-weight: bold"
              >
                1,245
              </p>
            </div>
            <div class="form-group">
              <h4><i class="fas fa-download"></i> Descargas de Revistas</h4>
              <p
                id="total-downloads"
                style="font-size: 2rem; color: #4b8b60; font-weight: bold"
              >
                892
              </p>
            </div>
            <div class="form-group">
              <h4><i class="fas fa-file-alt"></i> Notas Publicadas</h4>
              <p
                id="total-notes"
                style="font-size: 2rem; color: #2c3e50; font-weight: bold"
              >
                156
              </p>
            </div>
          </div>
          <div class="form-group">
            <h4><i class="fas fa-chart-line"></i> Categor칤as M치s Populares</h4>
            <ul id="popular-categories" style="list-style: none; padding: 0">
              <li
                style="
                  padding: 10px;
                  background: #f8f9fa;
                  margin: 5px 0;
                  border-radius: 4px;
                "
              >
                <i
                  class="fas fa-music"
                  style="color: #ff6f61; margin-right: 10px"
                ></i>
                M칰sica (245 visitas)
              </li>
              <li
                style="
                  padding: 10px;
                  background: #f8f9fa;
                  margin: 5px 0;
                  border-radius: 4px;
                "
              >
                <i
                  class="fas fa-film"
                  style="color: #ff6f61; margin-right: 10px"
                ></i>
                Cine (198 visitas)
              </li>
              <li
                style="
                  padding: 10px;
                  background: #f8f9fa;
                  margin: 5px 0;
                  border-radius: 4px;
                "
              >
                <i
                  class="fas fa-palette"
                  style="color: #ff6f61; margin-right: 10px"
                ></i>
                Artes Visuales (176 visitas)
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- MODALES -->
    <div id="edit-issue-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <button id="close-edit-modal" class="modal-close">&times;</button>
        <h2>Editar Revista</h2>
        <form id="edit-issue-form" enctype="multipart/form-data">
          <input type="hidden" id="edit-issue-id" name="id" />
          <label for="edit-issue-number">N칰mero:</label>
          <input type="number" id="edit-issue-number" name="number" required />
          <label for="edit-issue-month">Mes:</label>
          <input type="text" id="edit-issue-month" name="month" required />
          <label for="edit-issue-year">A침o:</label>
          <input type="number" id="edit-issue-year" name="year" required />
          <label for="edit-issue-title">T칤tulo:</label>
          <input type="text" id="edit-issue-title" name="title" required />
          <label for="edit-issue-description">Descripci칩n:</label>
          <textarea id="edit-issue-description" name="description"></textarea>
          <label for="edit-issue-cover">Cambiar Portada:</label>
          <input
            type="file"
            id="edit-issue-cover"
            name="cover"
            accept="image/*"
            onchange="updateImagePreview(this, 'edit-issue-cover-preview')"
          />
          <label for="edit-issue-pdf">Cambiar PDF:</label>
          <input
            type="file"
            id="edit-issue-pdf"
            name="pdf"
            accept="application/pdf"
          />
          <div class="preview-section">
            <p>Portada actual:</p>
            <img
              id="edit-issue-cover-preview"
              src=""
              alt="Portada actual"
              style="
                max-width: 150px;
                border-radius: 6px;
                display: block;
                margin-bottom: 10px;
              "
            />
          </div>
          <button id="save-edit-issue" type="button" class="btn btn-primary">
            Guardar Cambios
          </button>
        </form>
      </div>
    </div>

    <div id="edit-category-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <button class="modal-close close-category-modal">&times;</button>
        <h2>Editar Categor칤a</h2>
        <form id="edit-category-form">
          <input type="hidden" id="edit-cat-id" />

          <label for="edit-cat-name">Nombre:</label>
          <input type="text" id="edit-cat-name" required />

          <label for="edit-cat-desc">Descripci칩n:</label>
          <textarea id="edit-cat-desc" required></textarea>

          <label for="edit-cat-icon">Icono (Font Awesome):</label>
          <input
            type="text"
            id="edit-cat-icon"
            placeholder="Ej: fas fa-music"
          />

          <button
            type="submit"
            class="btn btn-success"
            style="margin-top: 15px"
          >
            Guardar Cambios
          </button>
        </form>
      </div>
    </div>

    <div id="edit-note-modal" class="modal-overlay" style="display: none">
      <div class="modal-content" style="max-width: 700px">
        <button class="modal-close close-note-modal">&times;</button>
        <h2>Editar Nota</h2>
        <form id="edit-note-form">
          <input type="hidden" id="edit-note-id" />

          <label for="edit-note-title">T칤tulo:</label>
          <input type="text" id="edit-note-title" required />

          <label for="edit-note-cat">Categor칤a:</label>
          <select id="edit-note-cat" required></select>

          <label for="edit-note-author">Autor:</label>
          <input type="text" id="edit-note-author" required />

          <label for="edit-note-date">Fecha:</label>
          <input type="date" id="edit-note-date" required />

          <label>Imagen Actual:</label>
          <div id="current-note-img-container" style="margin-bottom: 10px">
            <img
              id="edit-note-current-img"
              src=""
              style="max-width: 200px; border-radius: 4px"
            />
          </div>

          <label for="edit-note-image">Cambiar Imagen:</label>
          <input type="file" id="edit-note-image" accept="image/*" />

          <label for="edit-note-content">Contenido:</label>
          <textarea
            id="edit-note-content"
            style="min-height: 150px"
            required
          ></textarea>

          <button
            type="submit"
            class="btn btn-success"
            style="margin-top: 15px"
          >
            Guardar Cambios
          </button>
        </form>
      </div>
    </div>

    <!-- FLIPBOOK -->
    <div id="magazine-overlay" class="magazine-overlay">
      <button class="close-magazine" id="close-magazine">
        <i class="fas fa-times"></i> Cerrar Revista
      </button>

      <div class="magazine-nav">
        <button id="magazine-prev">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button id="magazine-next">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>

      <div class="magazine-container">
        <div id="flipbook">
          <!-- Contenido del flipbook -->
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>

    <!-- SCRIPT DE INICIALIZACI칍N Y DEBUG -->
    <script>
      // Mostrar debug overlay
      document.getElementById("debug-overlay").style.display = "block";

      // Inicializar estado
      let currentTab = "categorias";

      // Configurar tabs
      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", function () {
          const tabId = this.getAttribute("data-tab");
          currentTab = tabId;
          document.getElementById("debug-tab").textContent = tabId;

          // Remover active de todos
          document
            .querySelectorAll(".tab-btn")
            .forEach((b) => b.classList.remove("active"));
          document
            .querySelectorAll(".tab-content")
            .forEach((c) => c.classList.remove("active"));

          // Agregar active al seleccionado
          this.classList.add("active");
          document.getElementById(tabId).classList.add("active");
        });
      });

      // Configurar login
      document
        .getElementById("login-btn")
        .addEventListener("click", function () {
          const user = document.getElementById("username").value;
          const pass = document.getElementById("password").value;

          if (user === "admin" && pass === "admin") {
            document.getElementById("login-container").style.display = "none";
            document.getElementById("public-view").style.display = "none";
            document.getElementById("admin-panel").style.display = "block";
            document.getElementById("debug-status").textContent =
              "Admin activo";
          } else {
            document.getElementById("login-error").style.display = "block";
          }
        });

      document
        .getElementById("admin-toggle")
        .addEventListener("click", function (e) {
          e.preventDefault();
          document.getElementById("login-container").style.display = "flex";
        });

      document
        .getElementById("public-toggle")
        .addEventListener("click", function (e) {
          e.preventDefault();
          document.getElementById("admin-panel").style.display = "none";
          document.getElementById("public-view").style.display = "block";
          document.getElementById("debug-status").textContent = "Vista p칰blica";
        });

      document
        .getElementById("logout-btn")
        .addEventListener("click", function (e) {
          e.preventDefault();
          document.getElementById("admin-panel").style.display = "none";
          document.getElementById("public-view").style.display = "block";
          document.getElementById("debug-status").textContent =
            "Sesi칩n cerrada";
        });

      // Funciones CRUD
      window.editCategory = function (id) {
        alert("Editar categor칤a ID: " + id);
      };

      window.deleteCategory = function (id) {
        if (confirm("쮼liminar categor칤a " + id + "?")) {
          alert("Categor칤a " + id + " eliminada (simulaci칩n)");
        }
      };

      window.editNote = function (id) {
        alert("Editar nota ID: " + id);
      };

      window.deleteNote = function (id) {
        if (confirm("쮼liminar nota " + id + "?")) {
          alert("Nota " + id + " eliminada (simulaci칩n)");
        }
      };

      // Actualizar contadores debug
      setTimeout(function () {
        const catCount = document.querySelectorAll(
          "#categories-list .item-card"
        ).length;
        const noteCount = document.querySelectorAll(
          "#notes-list .item-card"
        ).length;

        document.getElementById("debug-cats").textContent = catCount;
        document.getElementById("debug-notes").textContent = noteCount;
        document.getElementById("debug-status").textContent = "Listo";
        document.getElementById("debug-tab").textContent = currentTab;
      }, 1000);

      // Agregar categor칤a
      document
        .getElementById("add-category-btn")
        .addEventListener("click", function () {
          const name = document.getElementById("category-name").value;
          const desc = document.getElementById("category-description").value;
          const icon =
            document.getElementById("category-icon").value || "fas fa-folder";

          if (name && desc) {
            const newCard = document.createElement("div");
            newCard.className = "item-card";
            newCard.innerHTML = `
            <div class="item-details-container">
              <div class="cat-icon-large">
                <i class="${icon}"></i>
              </div>
              <div class="item-content">
                <h4>${name}</h4>
                <p>${desc}</p>
              </div>
            </div>
            <div class="item-actions-group">
              <button class="action-btn btn-edit" onclick="editCategory('new')">
                <i class="fas fa-edit"></i> Editar
              </button>
              <button class="action-btn btn-delete" onclick="deleteCategory('new')">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>
          `;

            document.getElementById("categories-list").appendChild(newCard);

            // Limpiar formulario
            document.getElementById("category-name").value = "";
            document.getElementById("category-description").value = "";
            document.getElementById("category-icon").value = "";

            // Actualizar contador
            const newCount = document.querySelectorAll(
              "#categories-list .item-card"
            ).length;
            document.getElementById("debug-cats").textContent = newCount;

            alert('Categor칤a "' + name + '" agregada correctamente');
          } else {
            alert("Por favor complete todos los campos");
          }
        });

      // Agregar nota
      document
        .getElementById("add-note-btn")
        .addEventListener("click", function () {
          const title = document.getElementById("note-title").value;
          const category = document.getElementById("note-category").value;
          const author = document.getElementById("note-author").value;

          if (title && category) {
            const categoryName = document.querySelector(
              `#note-category option[value="${category}"]`
            ).textContent;

            const newCard = document.createElement("div");
            newCard.className = "item-card";
            newCard.innerHTML = `
            <div class="item-details-container">
              <div class="item-image">
                <img src="https://via.placeholder.com/100x100?text=Nueva+Nota" alt="Nueva nota">
              </div>
              <div class="item-content">
                <h4>${title}</h4>
                <p><strong>Categor칤a:</strong> ${categoryName} | <strong>Autor:</strong> ${
              author || "An칩nimo"
            } | <strong>Fecha:</strong> ${new Date().toLocaleDateString()}</p>
                <p>Nueva nota agregada al sistema...</p>
              </div>
            </div>
            <div class="item-actions-group">
              <button class="action-btn btn-edit" onclick="editNote('new')">
                <i class="fas fa-edit"></i> Editar
              </button>
              <button class="action-btn btn-delete" onclick="deleteNote('new')">
                <i class="fas fa-trash"></i> Eliminar
              </button>
            </div>
          `;

            document.getElementById("notes-list").appendChild(newCard);

            // Limpiar formulario
            document.getElementById("note-title").value = "";
            document.getElementById("note-category").value = "";
            document.getElementById("note-author").value = "";
            document.getElementById("note-date").value = "";
            document.getElementById("note-content").value = "";

            // Actualizar contador
            const newCount = document.querySelectorAll(
              "#notes-list .item-card"
            ).length;
            document.getElementById("debug-notes").textContent = newCount;

            alert('Nota "' + title + '" agregada correctamente');
          } else {
            alert("Por favor complete el t칤tulo y seleccione una categor칤a");
          }
        });

      console.log("Sistema de administraci칩n cargado correctamente");
    </script>

    <script src="app.js"></script>
  </body>
</html>
